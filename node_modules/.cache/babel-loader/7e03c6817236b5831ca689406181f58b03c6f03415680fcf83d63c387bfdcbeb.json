{"ast":null,"code":"\"use strict\";\n\n/**\n * (C) Copyright IBM Corp. 2014, 2023.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isJsonMimeType = exports.constructServiceUrl = exports.toLowerKeys = exports.buildRequestFileObject = exports.getFormat = exports.isHTML = exports.validateParams = exports.getMissingParams = exports.getQueryParam = exports.stripTrailingSlash = exports.getContentType = exports.isEmptyObject = exports.isFileData = exports.isFileWithMetadata = void 0;\nvar isstream_1 = require(\"isstream\");\nvar mime_types_1 = require(\"mime-types\");\nvar path_1 = require(\"path\");\nvar logger_1 = __importDefault(require(\"./logger\"));\nvar FileType = require('file-type');\n// custom type guards\nfunction isFileObject(obj) {\n  return Boolean(obj && obj.value);\n}\nfunction isFileStream(obj) {\n  return Boolean(obj && (0, isstream_1.isReadable)(obj) && obj.path);\n}\nfunction isFileWithMetadata(obj) {\n  return Boolean(obj && obj.data && isFileData(obj.data));\n}\nexports.isFileWithMetadata = isFileWithMetadata;\nfunction isFileData(obj) {\n  return Boolean(obj && ((0, isstream_1.isReadable)(obj) || Buffer.isBuffer(obj)));\n}\nexports.isFileData = isFileData;\nfunction isEmptyObject(obj) {\n  return Boolean(obj && Object.keys(obj).length === 0 && obj.constructor === Object);\n}\nexports.isEmptyObject = isEmptyObject;\n/**\n * This function retrieves the content type of the input.\n * @param inputData - The data to retrieve content type for.\n * @returns the content type of the input.\n */\nfunction getContentType(inputData) {\n  return __awaiter(this, void 0, void 0, function () {\n    var contentType, mimeType;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          contentType = null;\n          if (!isFileStream(inputData)) return [3 /*break*/, 1];\n          mimeType = (0, mime_types_1.lookup)(inputData.path);\n          contentType = {\n            mime: mimeType || null\n          };\n          return [3 /*break*/, 3];\n        case 1:\n          if (!Buffer.isBuffer(inputData)) return [3 /*break*/, 3];\n          return [4 /*yield*/, FileType.fromBuffer(inputData)];\n        case 2:\n          // if the inputData is a Buffer\n          contentType = _a.sent();\n          _a.label = 3;\n        case 3:\n          return [2 /*return*/, contentType ? contentType.mime : null];\n      }\n    });\n  });\n}\nexports.getContentType = getContentType;\n/**\n * Strips trailing slashes from \"url\", if present.\n * @param  url - the url string\n * @returns the url with any trailing slashes removed\n */\nfunction stripTrailingSlash(url) {\n  // Match a forward slash / at the end of the string ($)\n  return url.replace(/\\/$/, '');\n}\nexports.stripTrailingSlash = stripTrailingSlash;\n/**\n * Return a query parameter value from a URL\n *\n * @param urlStr - the url string.\n * @param param - the name of the query parameter whose value should be returned\n * @returns the value of the \"param\" query parameter\n */\nfunction getQueryParam(urlStr, param) {\n  // The base URL is a dummy value just so we can process relative URLs\n  var url = new URL(urlStr, 'https://foo.bar');\n  return url.searchParams.get(param);\n}\nexports.getQueryParam = getQueryParam;\n/**\n * Validates that all required params are provided\n * @param params - the method parameters.\n * @param requires - the required parameter names.\n * @returns null if no errors found, otherwise an Error instance\n */\nfunction getMissingParams(params, requires) {\n  var missing;\n  if (!requires) {\n    return null;\n  } else if (!params) {\n    missing = requires;\n  } else {\n    missing = [];\n    requires.forEach(function (require) {\n      if (isMissing(params[require])) {\n        missing.push(require);\n      }\n    });\n  }\n  return missing.length > 0 ? new Error(\"Missing required parameters: \".concat(missing.join(', '))) : null;\n}\nexports.getMissingParams = getMissingParams;\n/**\n * Validates that \"params\" contains a value for each key listed in \"requiredParams\",\n * and that each key contained in \"params\" is a valid key listed in \"allParams\".\n * In essence, we want params to contain only valid keys and we want params\n * to contain at least the required keys.\n *\n * @param params - the \"params\" object passed into an operation containing method parameters.\n * @param requiredParams - the names of required parameters.\n * If null, then the \"required params\" check is bypassed.\n * @param allParams - the names of all valid parameters.\n * If null, then the \"valid params\" check is bypassed.\n * @returns null if no errors found, otherwise an Error instance\n */\nfunction validateParams(params, requiredParams, allParams) {\n  var missing = [];\n  var invalid = [];\n  // If there are any required fields, then make sure they are present in \"params\".\n  if (requiredParams) {\n    if (!params) {\n      missing = requiredParams;\n    } else {\n      requiredParams.forEach(function (require) {\n        if (isMissing(params[require])) {\n          missing.push(require);\n        }\n      });\n    }\n  }\n  // Make sure that each field specified in \"params\" is a valid param.\n  if (allParams && params) {\n    Object.keys(params).forEach(function (key) {\n      if (!allParams.includes(key)) {\n        invalid.push(key);\n      }\n    });\n  }\n  // If no errors found, then bail now.\n  if (missing.length === 0 && invalid.length === 0) {\n    return null;\n  }\n  // Return an Error object identifying the errors we found.\n  var errorMsg = 'Parameter validation errors:';\n  if (missing.length > 0) {\n    errorMsg += \"\\n  Missing required parameters: \".concat(missing.join(', '));\n  }\n  if (invalid.length > 0) {\n    errorMsg += \"\\n  Found invalid parameters: \".concat(invalid.join(', '));\n  }\n  return new Error(errorMsg);\n}\nexports.validateParams = validateParams;\n/**\n * Returns true if value is determined to be \"missing\". Currently defining \"missing\"\n * as `undefined`, `null`, or the empty string.\n *\n * @param value - the parameter value\n * @returns true if \"value\" is either undefined, null or \"\" (empty string)\n */\nfunction isMissing(value) {\n  return value === undefined || value === null || value === '';\n}\n/**\n * Return true if 'text' is html\n * @param  text - The 'text' to analyze\n * @returns true if 'text' has html tags\n */\nfunction isHTML(text) {\n  logger_1.default.debug(\"Determining if the text \".concat(text, \" is HTML.\"));\n  return /<[a-z][\\s\\S]*>/i.test(text);\n}\nexports.isHTML = isHTML;\n/**\n * Returns the first match from formats that is key the params map\n * otherwise null\n * @param  params - The parameters.\n * @param  requires - The keys we want to check\n */\nfunction getFormat(params, formats) {\n  if (!formats || !params) {\n    logger_1.default.debug(\"No formats to parse in getFormat. Returning null\");\n    return null;\n  }\n  var validFormats = formats.filter(function (item) {\n    return item in params;\n  });\n  if (validFormats.length) return validFormats[0];\n  logger_1.default.debug(\"No formats to parse in getFormat. Returning null\");\n  return null;\n}\nexports.getFormat = getFormat;\n/**\n * This function builds a `form-data` object for each file parameter.\n * @param fileParam - The FileWithMetadata instance that contains the file information\n * @returns the FileObject instance\n */\nfunction buildRequestFileObject(fileParam) {\n  return __awaiter(this, void 0, void 0, function () {\n    var fileObj, filename, _a;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          if (isFileObject(fileParam.data)) {\n            // For backward compatibility, we allow the data to be a FileObject.\n            fileObj = {\n              value: fileParam.data.value,\n              options: {}\n            };\n            if (fileParam.data.options) {\n              fileObj.options = {\n                filename: fileParam.filename || fileParam.data.options.filename,\n                contentType: fileParam.contentType || fileParam.data.options.contentType\n              };\n            }\n          } else {\n            fileObj = {\n              value: fileParam.data,\n              options: {\n                filename: fileParam.filename,\n                contentType: fileParam.contentType\n              }\n            };\n          }\n          // Also for backward compatibility, we allow data to be a string\n          if (typeof fileObj.value === 'string') {\n            fileObj.value = Buffer.from(fileObj.value);\n          }\n          filename = fileObj.options.filename;\n          if (!filename && isFileStream(fileObj.value)) {\n            // if readable stream with path property\n            filename = fileObj.value.path;\n          }\n          // toString handles the case when path is a buffer\n          fileObj.options.filename = filename ? (0, path_1.basename)(filename.toString()) : '_';\n          if (!(!fileObj.options.contentType && isFileData(fileObj.value))) return [3 /*break*/, 2];\n          _a = fileObj.options;\n          return [4 /*yield*/, getContentType(fileObj.value)];\n        case 1:\n          _a.contentType = _b.sent() || 'application/octet-stream';\n          _b.label = 2;\n        case 2:\n          return [2 /*return*/, fileObj];\n      }\n    });\n  });\n}\nexports.buildRequestFileObject = buildRequestFileObject;\n/**\n * This function converts an object's keys to lower case.\n * note: does not convert nested keys\n * @param obj - The object to convert the keys of.\n * @returns the object with keys folded to lowercase\n */\nfunction toLowerKeys(obj) {\n  var lowerCaseObj = {};\n  if (obj) {\n    lowerCaseObj = Object.assign.apply(Object, __spreadArray([{}], Object.keys(obj).map(function (key) {\n      var _a;\n      return _a = {}, _a[key.toLowerCase()] = obj[key], _a;\n    }), false));\n  }\n  return lowerCaseObj;\n}\nexports.toLowerKeys = toLowerKeys;\n/**\n * Constructs a service URL by formatting a parameterized URL.\n *\n * @param parameterizedUrl - a URL that contains variable placeholders, e.g. '\\{scheme\\}://ibm.com'.\n * @param defaultUrlVariables - a Map of variable names to default values.\n *  Each variable in the parameterized URL must have a default value specified in this map.\n * @param providedUrlVariables - a Map of variable names to desired values.\n *  If a variable is not provided in this map, the default variable value will be used instead.\n * @returns the formatted URL with all variable placeholders replaced by values.\n */\nfunction constructServiceUrl(parameterizedUrl, defaultUrlVariables, providedUrlVariables) {\n  // If null was passed, we set the variables to an empty map.\n  // This results in all default variable values being used.\n  if (providedUrlVariables === null) {\n    providedUrlVariables = new Map();\n  }\n  // Verify the provided variable names.\n  providedUrlVariables.forEach(function (_, name) {\n    if (!defaultUrlVariables.has(name)) {\n      throw new Error(\"'\".concat(name, \"' is an invalid variable name.\\n      Valid variable names: [\").concat(Array.from(defaultUrlVariables.keys()).sort(), \"].\"));\n    }\n  });\n  // Format the URL with provided or default variable values.\n  var formattedUrl = parameterizedUrl;\n  defaultUrlVariables.forEach(function (defaultValue, name) {\n    // Use the default variable value if none was provided.\n    var providedValue = providedUrlVariables.get(name);\n    var formatValue = providedValue !== undefined ? providedValue : defaultValue;\n    formattedUrl = formattedUrl.replace(\"{\".concat(name, \"}\"), formatValue);\n  });\n  return formattedUrl;\n}\nexports.constructServiceUrl = constructServiceUrl;\n/**\n * Returns true if and only if \"mimeType\" is a \"JSON-like\" mime type\n * (e.g. \"application/json; charset=utf-8\").\n * @param mimeType - the mimeType string\n * @returns true if \"mimeType\" represents a JSON media type and false otherwise\n */\nfunction isJsonMimeType(mimeType) {\n  logger_1.default.debug(\"Determining if the mime type '\".concat(mimeType, \"' specifies JSON content.\"));\n  return !!mimeType && /^application\\/json(\\s*;.*)?$/i.test(mimeType);\n}\nexports.isJsonMimeType = isJsonMimeType;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArray","to","from","pack","arguments","i","l","ar","Array","prototype","slice","concat","__importDefault","mod","__esModule","Object","defineProperty","exports","isJsonMimeType","constructServiceUrl","toLowerKeys","buildRequestFileObject","getFormat","isHTML","validateParams","getMissingParams","getQueryParam","stripTrailingSlash","getContentType","isEmptyObject","isFileData","isFileWithMetadata","isstream_1","require","mime_types_1","path_1","logger_1","FileType","isFileObject","obj","Boolean","isFileStream","isReadable","path","data","Buffer","isBuffer","keys","constructor","inputData","contentType","mimeType","_a","lookup","mime","fromBuffer","url","replace","urlStr","param","URL","searchParams","get","params","requires","missing","forEach","isMissing","Error","join","requiredParams","allParams","invalid","key","includes","errorMsg","undefined","text","default","debug","test","formats","validFormats","filter","item","fileParam","fileObj","filename","_b","options","basename","toString","lowerCaseObj","assign","map","toLowerCase","parameterizedUrl","defaultUrlVariables","providedUrlVariables","Map","name","has","sort","formattedUrl","defaultValue","providedValue","formatValue"],"sources":["/Users/nidhi/Desktop/cve-analysis-app/node_modules/ibm-cloud-sdk-core/lib/helper.js"],"sourcesContent":["\"use strict\";\n/**\n * (C) Copyright IBM Corp. 2014, 2023.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isJsonMimeType = exports.constructServiceUrl = exports.toLowerKeys = exports.buildRequestFileObject = exports.getFormat = exports.isHTML = exports.validateParams = exports.getMissingParams = exports.getQueryParam = exports.stripTrailingSlash = exports.getContentType = exports.isEmptyObject = exports.isFileData = exports.isFileWithMetadata = void 0;\nvar isstream_1 = require(\"isstream\");\nvar mime_types_1 = require(\"mime-types\");\nvar path_1 = require(\"path\");\nvar logger_1 = __importDefault(require(\"./logger\"));\nvar FileType = require('file-type');\n// custom type guards\nfunction isFileObject(obj) {\n    return Boolean(obj && obj.value);\n}\nfunction isFileStream(obj) {\n    return Boolean(obj && (0, isstream_1.isReadable)(obj) && obj.path);\n}\nfunction isFileWithMetadata(obj) {\n    return Boolean(obj && obj.data && isFileData(obj.data));\n}\nexports.isFileWithMetadata = isFileWithMetadata;\nfunction isFileData(obj) {\n    return Boolean(obj && ((0, isstream_1.isReadable)(obj) || Buffer.isBuffer(obj)));\n}\nexports.isFileData = isFileData;\nfunction isEmptyObject(obj) {\n    return Boolean(obj && Object.keys(obj).length === 0 && obj.constructor === Object);\n}\nexports.isEmptyObject = isEmptyObject;\n/**\n * This function retrieves the content type of the input.\n * @param inputData - The data to retrieve content type for.\n * @returns the content type of the input.\n */\nfunction getContentType(inputData) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType, mimeType;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    contentType = null;\n                    if (!isFileStream(inputData)) return [3 /*break*/, 1];\n                    mimeType = (0, mime_types_1.lookup)(inputData.path);\n                    contentType = { mime: mimeType || null };\n                    return [3 /*break*/, 3];\n                case 1:\n                    if (!Buffer.isBuffer(inputData)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, FileType.fromBuffer(inputData)];\n                case 2:\n                    // if the inputData is a Buffer\n                    contentType = _a.sent();\n                    _a.label = 3;\n                case 3: return [2 /*return*/, contentType ? contentType.mime : null];\n            }\n        });\n    });\n}\nexports.getContentType = getContentType;\n/**\n * Strips trailing slashes from \"url\", if present.\n * @param  url - the url string\n * @returns the url with any trailing slashes removed\n */\nfunction stripTrailingSlash(url) {\n    // Match a forward slash / at the end of the string ($)\n    return url.replace(/\\/$/, '');\n}\nexports.stripTrailingSlash = stripTrailingSlash;\n/**\n * Return a query parameter value from a URL\n *\n * @param urlStr - the url string.\n * @param param - the name of the query parameter whose value should be returned\n * @returns the value of the \"param\" query parameter\n */\nfunction getQueryParam(urlStr, param) {\n    // The base URL is a dummy value just so we can process relative URLs\n    var url = new URL(urlStr, 'https://foo.bar');\n    return url.searchParams.get(param);\n}\nexports.getQueryParam = getQueryParam;\n/**\n * Validates that all required params are provided\n * @param params - the method parameters.\n * @param requires - the required parameter names.\n * @returns null if no errors found, otherwise an Error instance\n */\nfunction getMissingParams(params, requires) {\n    var missing;\n    if (!requires) {\n        return null;\n    }\n    else if (!params) {\n        missing = requires;\n    }\n    else {\n        missing = [];\n        requires.forEach(function (require) {\n            if (isMissing(params[require])) {\n                missing.push(require);\n            }\n        });\n    }\n    return missing.length > 0\n        ? new Error(\"Missing required parameters: \".concat(missing.join(', ')))\n        : null;\n}\nexports.getMissingParams = getMissingParams;\n/**\n * Validates that \"params\" contains a value for each key listed in \"requiredParams\",\n * and that each key contained in \"params\" is a valid key listed in \"allParams\".\n * In essence, we want params to contain only valid keys and we want params\n * to contain at least the required keys.\n *\n * @param params - the \"params\" object passed into an operation containing method parameters.\n * @param requiredParams - the names of required parameters.\n * If null, then the \"required params\" check is bypassed.\n * @param allParams - the names of all valid parameters.\n * If null, then the \"valid params\" check is bypassed.\n * @returns null if no errors found, otherwise an Error instance\n */\nfunction validateParams(params, requiredParams, allParams) {\n    var missing = [];\n    var invalid = [];\n    // If there are any required fields, then make sure they are present in \"params\".\n    if (requiredParams) {\n        if (!params) {\n            missing = requiredParams;\n        }\n        else {\n            requiredParams.forEach(function (require) {\n                if (isMissing(params[require])) {\n                    missing.push(require);\n                }\n            });\n        }\n    }\n    // Make sure that each field specified in \"params\" is a valid param.\n    if (allParams && params) {\n        Object.keys(params).forEach(function (key) {\n            if (!allParams.includes(key)) {\n                invalid.push(key);\n            }\n        });\n    }\n    // If no errors found, then bail now.\n    if (missing.length === 0 && invalid.length === 0) {\n        return null;\n    }\n    // Return an Error object identifying the errors we found.\n    var errorMsg = 'Parameter validation errors:';\n    if (missing.length > 0) {\n        errorMsg += \"\\n  Missing required parameters: \".concat(missing.join(', '));\n    }\n    if (invalid.length > 0) {\n        errorMsg += \"\\n  Found invalid parameters: \".concat(invalid.join(', '));\n    }\n    return new Error(errorMsg);\n}\nexports.validateParams = validateParams;\n/**\n * Returns true if value is determined to be \"missing\". Currently defining \"missing\"\n * as `undefined`, `null`, or the empty string.\n *\n * @param value - the parameter value\n * @returns true if \"value\" is either undefined, null or \"\" (empty string)\n */\nfunction isMissing(value) {\n    return value === undefined || value === null || value === '';\n}\n/**\n * Return true if 'text' is html\n * @param  text - The 'text' to analyze\n * @returns true if 'text' has html tags\n */\nfunction isHTML(text) {\n    logger_1.default.debug(\"Determining if the text \".concat(text, \" is HTML.\"));\n    return /<[a-z][\\s\\S]*>/i.test(text);\n}\nexports.isHTML = isHTML;\n/**\n * Returns the first match from formats that is key the params map\n * otherwise null\n * @param  params - The parameters.\n * @param  requires - The keys we want to check\n */\nfunction getFormat(params, formats) {\n    if (!formats || !params) {\n        logger_1.default.debug(\"No formats to parse in getFormat. Returning null\");\n        return null;\n    }\n    var validFormats = formats.filter(function (item) { return item in params; });\n    if (validFormats.length)\n        return validFormats[0];\n    logger_1.default.debug(\"No formats to parse in getFormat. Returning null\");\n    return null;\n}\nexports.getFormat = getFormat;\n/**\n * This function builds a `form-data` object for each file parameter.\n * @param fileParam - The FileWithMetadata instance that contains the file information\n * @returns the FileObject instance\n */\nfunction buildRequestFileObject(fileParam) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fileObj, filename, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (isFileObject(fileParam.data)) {\n                        // For backward compatibility, we allow the data to be a FileObject.\n                        fileObj = { value: fileParam.data.value, options: {} };\n                        if (fileParam.data.options) {\n                            fileObj.options = {\n                                filename: fileParam.filename || fileParam.data.options.filename,\n                                contentType: fileParam.contentType || fileParam.data.options.contentType,\n                            };\n                        }\n                    }\n                    else {\n                        fileObj = {\n                            value: fileParam.data,\n                            options: {\n                                filename: fileParam.filename,\n                                contentType: fileParam.contentType,\n                            },\n                        };\n                    }\n                    // Also for backward compatibility, we allow data to be a string\n                    if (typeof fileObj.value === 'string') {\n                        fileObj.value = Buffer.from(fileObj.value);\n                    }\n                    filename = fileObj.options.filename;\n                    if (!filename && isFileStream(fileObj.value)) {\n                        // if readable stream with path property\n                        filename = fileObj.value.path;\n                    }\n                    // toString handles the case when path is a buffer\n                    fileObj.options.filename = filename ? (0, path_1.basename)(filename.toString()) : '_';\n                    if (!(!fileObj.options.contentType && isFileData(fileObj.value))) return [3 /*break*/, 2];\n                    _a = fileObj.options;\n                    return [4 /*yield*/, getContentType(fileObj.value)];\n                case 1:\n                    _a.contentType =\n                        (_b.sent()) || 'application/octet-stream';\n                    _b.label = 2;\n                case 2: return [2 /*return*/, fileObj];\n            }\n        });\n    });\n}\nexports.buildRequestFileObject = buildRequestFileObject;\n/**\n * This function converts an object's keys to lower case.\n * note: does not convert nested keys\n * @param obj - The object to convert the keys of.\n * @returns the object with keys folded to lowercase\n */\nfunction toLowerKeys(obj) {\n    var lowerCaseObj = {};\n    if (obj) {\n        lowerCaseObj = Object.assign.apply(Object, __spreadArray([{}], Object.keys(obj).map(function (key) {\n            var _a;\n            return (_a = {},\n                _a[key.toLowerCase()] = obj[key],\n                _a);\n        }), false));\n    }\n    return lowerCaseObj;\n}\nexports.toLowerKeys = toLowerKeys;\n/**\n * Constructs a service URL by formatting a parameterized URL.\n *\n * @param parameterizedUrl - a URL that contains variable placeholders, e.g. '\\{scheme\\}://ibm.com'.\n * @param defaultUrlVariables - a Map of variable names to default values.\n *  Each variable in the parameterized URL must have a default value specified in this map.\n * @param providedUrlVariables - a Map of variable names to desired values.\n *  If a variable is not provided in this map, the default variable value will be used instead.\n * @returns the formatted URL with all variable placeholders replaced by values.\n */\nfunction constructServiceUrl(parameterizedUrl, defaultUrlVariables, providedUrlVariables) {\n    // If null was passed, we set the variables to an empty map.\n    // This results in all default variable values being used.\n    if (providedUrlVariables === null) {\n        providedUrlVariables = new Map();\n    }\n    // Verify the provided variable names.\n    providedUrlVariables.forEach(function (_, name) {\n        if (!defaultUrlVariables.has(name)) {\n            throw new Error(\"'\".concat(name, \"' is an invalid variable name.\\n      Valid variable names: [\").concat(Array.from(defaultUrlVariables.keys()).sort(), \"].\"));\n        }\n    });\n    // Format the URL with provided or default variable values.\n    var formattedUrl = parameterizedUrl;\n    defaultUrlVariables.forEach(function (defaultValue, name) {\n        // Use the default variable value if none was provided.\n        var providedValue = providedUrlVariables.get(name);\n        var formatValue = providedValue !== undefined ? providedValue : defaultValue;\n        formattedUrl = formattedUrl.replace(\"{\".concat(name, \"}\"), formatValue);\n    });\n    return formattedUrl;\n}\nexports.constructServiceUrl = constructServiceUrl;\n/**\n * Returns true if and only if \"mimeType\" is a \"JSON-like\" mime type\n * (e.g. \"application/json; charset=utf-8\").\n * @param mimeType - the mimeType string\n * @returns true if \"mimeType\" represents a JSON media type and false otherwise\n */\nfunction isJsonMimeType(mimeType) {\n    logger_1.default.debug(\"Determining if the mime type '\".concat(mimeType, \"' specifies JSON content.\"));\n    return !!mimeType && /^application\\/json(\\s*;.*)?$/i.test(mimeType);\n}\nexports.isJsonMimeType = isJsonMimeType;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}